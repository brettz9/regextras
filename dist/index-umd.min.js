!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.RegExtras=t()}(this,function(){"use strict";function e(e,t,n=e.lastIndex){return t=t||"",(e=new RegExp(e.source,(t.includes("g")?"g":e.global?"g":"")+(t.includes("i")?"i":e.ignoreCase?"i":"")+(t.includes("m")?"m":e.multiline?"m":"")+(t.includes("u")?"u":e.sticky?"u":"")+(t.includes("y")?"y":e.sticky?"y":""))).lastIndex=n,e}class t{constructor(t,n,l){this.regex=e("string"==typeof t?new RegExp(t):e(t),n||"",l)}forEach(t,n,l=null){const c=e(this.regex,"g");let r,i,o=0;for(;null!==(r=c.exec(t));)i=r.splice(0,1),n.apply(l,r.concat(o++,i));return this}some(t,n,l=null){const c=e(this.regex,"g");let r,i,o,u=0;for(;null!==(r=c.exec(t));)if(o=r.splice(0,1),i=n.apply(l,r.concat(u++,o)))return!0;return!1}every(t,n,l=null){const c=e(this.regex,"g");let r,i,o,u=0;for(;null!==(r=c.exec(t));)if(o=r.splice(0,1),!(i=n.apply(l,r.concat(u++,o))))return!1;return!0}map(t,n,l=null){const c=[],r=e(this.regex,"g");let i,o,u=0;for(;null!==(i=r.exec(t));)o=i.splice(0,1),c.push(n.apply(l,i.concat(u++,o)));return c}filter(t,n,l=null){let c,r,i=0;const o=[],u=e(this.regex,"g");for(;null!==(c=u.exec(t));)r=c.splice(0,1),c=c.concat(i++,r),n.apply(l,c)&&o.push(r[0]);return o}reduce(t,n,l,c=null){let r,i,o=0;const u=e(this.regex,"g");for(l||null!==(r=u.exec(t))&&(i=r.splice(0,1),l=n.apply(c,[""].concat(r.concat(o++,i))));null!==(r=u.exec(t));)i=r.splice(0,1),l=n.apply(c,[l].concat(r.concat(o++,i)));return l}reduceRight(t,n,l,c){let r,i,o,u=c,s=l;const p=[],x=e(this.regex,"g");for(u=u||null;null!==(r=x.exec(t));)p.push(r);if(!(o=p.length)){if(arguments.length<3)throw new TypeError("reduce of empty matches array with no initial value");return s}return s||(r=p.splice(-1)[0],i=r.splice(0,1),s=n.apply(u,[""].concat(r.concat(o--,i)))),p.reduceRight((e,t)=>(i=t.splice(0,1),s=n.apply(u,[s].concat(t.concat(o--,i))),e),p),s}find(t,n,l=null){let c,r,i,o=0;const u=e(this.regex,"g");for(;null!==(c=u.exec(t));)if(i=c.splice(0,1),r=n.apply(l,c.concat(o++,i)))return i[0];return!1}findIndex(t,n,l=null){const c=e(this.regex,"g");let r,i=0;for(;null!==(r=c.exec(t));){const e=r.splice(0,1);if(n.apply(l,r.concat(i++,e)))return i-1}return-1}findExec(t,n,l=null){const c=e(this.regex,"g");let r,i=0;for(;null!==(r=c.exec(t));){const e=r.splice(0,1);if(n.apply(l,r.concat(i++,e)))return r}return!1}filterExec(t,n,l=null){let c,r,i=0;const o=[],u=e(this.regex,"g");for(;null!==(c=u.exec(t));)r=c.splice(0,1),c.push(i++,r[0]),n.apply(l,c)&&o.push(c);return o}}const n=t;return(t=function(...e){return new n(...e)}).prototype=n.prototype,t.mixinRegex=e,function(e){e.prototype.entries=function*(t){let n,l=0;const c=e.mixinRegex(this.regex,"g");for(;null!==(n=c.exec(t));)yield[l++,n]},e.prototype.values=function*(t){let n;const l=e.mixinRegex(this.regex,"g");for(;null!==(n=l.exec(t));)yield n},e.prototype.keys=function*(t){let n=0;const l=e.mixinRegex(this.regex,"g");for(;null!==l.exec(t);)yield n++}}(t),t});
